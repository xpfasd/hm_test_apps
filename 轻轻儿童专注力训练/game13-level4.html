<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¬¬4å…³ - æ‰¾ä¸åŒ</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        body{background:linear-gradient(135deg,#fffde7 0%,#c5cae9 100%);}
        .find-area{max-width:440px;margin:14px auto;background:#fff;border-radius:18px;box-shadow:0 2px 16px #ffe5724d;padding:16px 3px;}
        .animals-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:7px;margin:15px 0;}
        .animal-box{width:100%;aspect-ratio:1;border-radius:10px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;font-size:24px;cursor:pointer;transition:all .2s;box-shadow:0 1px 3px #ddd;}
        .animal-box:active{transform:scale(0.9);}
        .animal-box.correct{background:#c8e6c9;animation:bounce .6s;}
        .animal-box.wrong{background:#ffccbc;animation:shake .5s;}
    </style>
</head>
<body class="game-page">
<div class="container">
    <div class="game-header">
        <div class="back-btn" onclick="goHome()">â¬…ï¸</div>
        <div class="game-info"><div class="level-title">æ‰¾ä¸åŒ â€¢ ç¬¬4å…³</div><div class="timer" id="timer">â±ï¸ 0ç§’</div></div>
    </div>
    <div class="game-area">
        <div class="game-instruction">ä»è¿™ä¹ˆå¤šå°åŠ¨ç‰©ä¸­æ‰¾å‡ºä¸ä¸€æ ·çš„é‚£ä¸€åªï¼</div>
        <div class="find-area">
            <div class="animals-grid" id="animalsGrid"></div>
        </div>
    </div>
</div>
<div class="modal" id="resultModal">
    <div class="modal-content"><h2>ğŸ‰ å¤ªå‰å®³äº†ï¼</h2>
        <div class="star-rating" id="starRating">â­â­â­</div>
        <p id="resultMsg"></p>
        <p id="timeUsed"></p>
        <div><button class="btn btn-secondary" onclick="retryLevel()">ğŸ”„ å†ç©ä¸€æ¬¡</button><button class="btn btn-primary" onclick="nextLevel('game13',4)">â¡ï¸ ä¸‹ä¸€å…³</button></div>
    </div>
</div>
<script src="js/main.js"></script>
<script>
// è¶…çº§ç›¸ä¼¼å¹²æ‰°é¡¹ï¼šğŸ¶ğŸ• éƒ½æ˜¯ç‹—
const animals=['ğŸ¶','ğŸ•','ğŸ¶','ğŸ¶','ğŸ¶','ğŸ¶','ğŸ¶','ğŸ¶','ğŸ•','ğŸ¶','ğŸ¶','ğŸ•','ğŸ¶','ğŸ¶','ğŸ¶','ğŸ•','ğŸ¶','ğŸ•','ğŸ±','ğŸ¶','ğŸ¶','ğŸ•','ğŸ¶','ğŸ¶','ğŸ¶'];
let startTime,timerInt,diffIdx;
function shuffle(arr){return arr.sort(()=>Math.random()-.5)}
function renderAnimals(){
    const grid=document.getElementById('animalsGrid');grid.innerHTML='';
    animals.forEach((item,idx)=>{
        let div=document.createElement('div');
        div.className='animal-box';
        div.textContent=item;
        div.onclick=()=>checkAnimal(idx,div);
        grid.appendChild(div);
    });
}
function checkAnimal(idx,dom){
    if(idx===18){
        dom.classList.add('correct');playSound('correct');
        setTimeout(()=>{
            let used=Math.floor((Date.now()-startTime)/1000),stars=3;
            if(used>24)stars=1;else if(used>15)stars=2;
            updateLevelProgress('game13',4,stars);
            document.getElementById('starRating').textContent='â­'.repeat(stars)+'â˜†'.repeat(3-stars);
            document.getElementById('resultMsg').textContent='ç»†å¿ƒè§‚å¯Ÿï¼Œè¶…æ£’ï¼';
            document.getElementById('timeUsed').textContent=`ç”¨æ—¶: ${used}ç§’`;
            showModal('resultModal');
        },600);
    }else{
        dom.classList.add('wrong');playSound('wrong');
        setTimeout(()=>dom.classList.remove('wrong'),500);
    }
}
window.onload=function(){
    diffIdx=18;renderAnimals();startTime=Date.now();
    if(timerInt)clearInterval(timerInt);
    timerInt=setInterval(()=>{
        let t=Math.floor((Date.now()-startTime)/1000);
        document.getElementById('timer').textContent=`â±ï¸ ${t}ç§’`;
    },1000);
}
</script>
</body>
</html>
