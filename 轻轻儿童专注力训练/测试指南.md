# 🧪 专注力训练项目 - 详细测试指南

## 📋 测试前准备

1. **启动本地服务器**
   ```bash
   cd "D:\Users\4\DevEcoStudioProjects\kid\专注力"
   python -m http.server 8000
   ```

2. **打开浏览器**
   - 访问: http://localhost:8000/index.html
   - 打开开发者工具 (F12)
   - 切换到 Console 标签页监控错误

---

## 🎯 测试流程

### 阶段1: 主页面测试 (index.html)

#### 步骤1.1: 页面加载测试
1. ✅ 打开 http://localhost:8000/index.html
2. ✅ 检查页面是否正常显示
3. ✅ 检查控制台是否有错误（红色提示）
4. ✅ 确认标题"🎯 专注力训练"显示正常
5. ✅ 确认所有20个项目区域都显示

**预期结果**: 
- 页面完整加载
- 无JavaScript错误
- 布局美观

#### 步骤1.2: 响应式设计测试

**测试场景1: 移动端 (360px)**
1. 按 F12 打开开发者工具
2. 点击设备工具栏图标（或按 Ctrl+Shift+M）
3. 选择设备: iPhone SE (375x667) 或自定义宽度360px
4. 检查：
   - ✅ 页面内容是否完整显示
   - ✅ 文字大小是否可读
   - ✅ 按钮大小是否适合触摸
   - ✅ 关卡卡片网格是否自适应
   - ✅ 无横向滚动条

**测试场景2: 平板端 (768px)**
1. 调整窗口宽度到768px
2. 检查：
   - ✅ 布局是否居中
   - ✅ 内容区域最大宽度480px是否生效
   - ✅ 左右留白是否合理

**测试场景3: 桌面端 (1024px+)**
1. 全屏浏览器窗口
2. 检查：
   - ✅ 内容居中显示
   - ✅ 最大宽度限制生效
   - ✅ 无过度拉伸

#### 步骤1.3: 测试模式功能测试
1. ✅ 找到"测试模式"复选框
2. ✅ 点击勾选测试模式
3. ✅ 观察所有项目区域是否解锁
4. ✅ 所有关卡卡片是否可点击
5. ✅ 刷新页面，检查测试模式状态是否保存
6. ✅ 取消勾选测试模式
7. ✅ 观察项目区域是否恢复锁定状态

**预期结果**:
- 测试模式切换正常
- 状态正确保存到localStorage
- 解锁/锁定逻辑正确

#### 步骤1.4: 关卡解锁测试 (非测试模式)
1. ✅ 确保测试模式未勾选
2. ✅ 只应看到项目1的5个关卡解锁
3. ✅ 项目2-20应显示锁定状态（灰色+🔒图标）
4. ✅ 点击项目1的第1关，进入项目

#### 步骤1.5: 星星统计测试
1. ✅ 查看右上角星星总数显示
2. ✅ 完成一个关卡后返回主页
3. ✅ 检查星星总数是否更新
4. ✅ 检查对应关卡卡片是否显示星星

#### 步骤1.6: 举报功能测试
1. ✅ 点击右上角"举报"按钮
2. ✅ 检查是否弹出"提交成功"弹窗
3. ✅ 点击"确定"按钮关闭弹窗
4. ✅ 检查控制台是否有错误

**预期结果**:
- 举报按钮可点击
- 弹窗正常显示和关闭
- 无JavaScript错误

---

### 阶段2: 项目页面测试 (game1-level1.html)

#### 步骤2.1: 页面加载和初始化
1. ✅ 从主页点击"项目1 - 第1关"
2. ✅ 检查页面是否正常跳转
3. ✅ 检查项目头部显示：
   - 返回按钮 ⬅️
   - 关卡标题 "第 1 关"
   - 计时器 "⏱️ 0秒"
4. ✅ 检查项目区域：
   - 目标动物显示（🐶）
   - 项目说明文字
   - 6个动物卡片已生成
5. ✅ 检查控制台是否有错误

**预期结果**:
- 页面正常加载
- 项目元素正确显示
- 计时器开始运行

#### 步骤2.2: 项目逻辑测试

**场景1: 正确答案**
1. ✅ 观察目标动物（如🐶）
2. ✅ 在6个卡片中找到相同的动物
3. ✅ 点击正确的卡片
4. ✅ 检查：
   - 卡片是否有选中/正确动画效果
   - 是否播放音效（可能有浏览器限制）
   - 是否在0.5秒后显示完成弹窗
   - 计时器是否停止

**场景2: 错误答案**
1. ✅ 重新加载页面
2. ✅ 点击错误的动物卡片
3. ✅ 检查：
   - 卡片是否显示错误状态（红色边框）
   - 是否有错误动画（shake）
   - 1秒后错误状态是否消失
   - 项目是否继续（未结束）

#### 步骤2.3: 完成弹窗测试
1. ✅ 完成关卡后，检查弹窗显示：
   - 标题 "🎉 太棒了!"
   - 星级评分（⭐⭐⭐）
   - 用时显示
   - "再玩一次"按钮
   - "下一关"按钮
2. ✅ 点击"再玩一次"按钮
   - 检查是否重新加载项目
   - 计时器是否重置
3. ✅ 完成关卡后点击"下一关"按钮
   - 检查是否跳转到 game1-level2.html

#### 步骤2.4: 进度保存测试
1. ✅ 完成一个关卡
2. ✅ 返回主页
3. ✅ 检查：
   - 对应关卡卡片是否显示星星
   - 下一关卡是否解锁
   - 星星总数是否更新
4. ✅ 刷新页面
5. ✅ 检查进度是否仍然保存

#### 步骤2.5: 返回功能测试
1. ✅ 在项目页面点击返回按钮 ⬅️
2. ✅ 检查是否返回主页
3. ✅ 检查进度是否保存

---

### 阶段3: 响应式设计详细测试

#### 测试不同屏幕尺寸下的项目页面

**移动端 (360px)**
1. ✅ 在项目页面调整窗口到360px宽度
2. ✅ 检查：
   - 项目头部是否完整显示
   - 动物卡片大小是否合适
   - 卡片网格是否适配（3列）
   - 弹窗是否居中且不超出屏幕

**平板端 (768px)**
1. ✅ 调整到768px宽度
2. ✅ 检查：
   - 内容是否居中
   - 卡片是否不会过大
   - 布局是否合理

---

### 阶段4: JavaScript错误监控

#### 持续监控控制台
在整个测试过程中：
1. ✅ 始终保持Console标签页打开
2. ✅ 观察是否有红色错误信息
3. ✅ 记录任何警告（黄色）
4. ✅ 特别注意以下情况：
   - 页面加载时
   - 点击按钮时
   - 切换测试模式时
   - 点击关卡卡片时
   - 项目交互时
   - 音效播放时（可能有浏览器限制）

**常见错误检查点**:
- ❌ `Cannot read property 'xxx' of null` - 元素未找到
- ❌ `localStorage is not defined` - localStorage不支持
- ❌ `showModal is not defined` - 函数未定义
- ❌ `AudioContext is not supported` - 音效不支持（不算错误）

---

### 阶段5: 错误信息校验

#### 测试错误处理

**场景1: localStorage不可用**
1. 打开控制台
2. 执行: `localStorage.setItem = function() { throw new Error('Disabled'); }`
3. ✅ 测试页面功能是否仍然可用（可能有降级处理）

**场景2: 网络错误**
1. 停止本地服务器
2. ✅ 检查页面是否显示错误
3. ✅ 检查是否有友好的错误提示

**场景3: 无效关卡**
1. 尝试访问不存在的关卡: game1-level999.html
2. ✅ 检查是否有404错误页面

---

## ✅ 测试检查清单

### 功能测试
- [ ] 主页面加载正常
- [ ] 测试模式切换正常
- [ ] 关卡解锁逻辑正确
- [ ] 项目页面加载正常
- [ ] 项目逻辑正确（正确/错误答案）
- [ ] 计时器正常工作
- [ ] 进度保存正常
- [ ] 导航功能正常（返回、下一关、再玩一次）
- [ ] 举报功能正常
- [ ] 星星统计正确

### 响应式设计
- [ ] 360px宽度显示正常
- [ ] 480px宽度显示正常
- [ ] 768px宽度显示正常
- [ ] 1024px+宽度显示正常
- [ ] 元素自适应正确
- [ ] 无横向滚动（移动端）
- [ ] 按钮大小适合触摸

### 错误处理
- [ ] 无JavaScript控制台错误
- [ ] 音效播放失败不影响项目
- [ ] localStorage错误有降级处理
- [ ] 错误状态有视觉反馈

---

## 📝 问题记录模板

如发现问题，请记录：

```
问题编号: #001
问题描述: 
重现步骤:
1. 
2. 
3. 
预期结果:
实际结果:
浏览器/设备:
截图: (可选)
```

---

## 🎉 测试完成

完成所有测试后，请：
1. 汇总发现的问题
2. 记录测试通过的项
3. 更新测试报告文档

